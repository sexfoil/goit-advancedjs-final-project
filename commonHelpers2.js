import{H,i as I,h as A,s as D,j,d as f,k,l as S,m as x,n as C,o as q,p as O,f as N,c as $,a as R,r as W,b as w,e as z}from"./assets/mobile-ca91ca12.js";import"./assets/vendor-b20efecd.js";const E=document.querySelector(".footer-subscribe-form"),P=new H(E.querySelector(".input-loader"),"input-loader");E.addEventListener("submit",K);function K(e){e.preventDefault();const t=e.currentTarget,i=new FormData(t).get("subscriber-email").trim();if(I(i)){A("Email is empty");return}G(i)}async function G(e){try{P.show();const t=await D(e);if(t.status!==201)throw new Error(t.data.message);j(t.data.message)}catch(t){f(t.message)}finally{P.hide(),E.reset()}}const J=class{page=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(e,t){this.name=e,this.container=t}get currentPage(){return this.page}set currentPage(e){this.page=e}resetPage(){this.page=1}build({totalPages:e,sectionBuilderFunction:t,limit:i=12}){this.page=1,this.buttonsList=[],this.limit=i,this.sectionBuilderFunction=t;const s=document.querySelector(".pagination-list");s&&(s.innerHTML="");const r=document.createElement("ul");r.classList.add("pagination-list"),this.container.append(r),r.addEventListener("click",c.bind(this));async function c(n){if(n.target.hasAttribute("data-pagination")){const o=this.page;this.page=Number(n.target.getAttribute("data-pagination"));const y=this.page;o!==y&&(await this.sectionBuilderFunction(),this.render())}}(()=>{for(let n=1;n<=e;n+=1){const o=["pagination-btn"];n===this.page&&o.push("pagination-btn--active"),this.buttonsList.push(`<li>
          <button type='button'
          name="page"
          class='${o.join(" ")}'
          data-pagination=${n}>${n}</button>
          </li>`)}})(),this.render()}render(){const e=document.querySelector(".pagination-list");e.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},Q=document.getElementById("exercises-pagination-container"),a=new J("exercises-pagination-container",Q),u=document.querySelector(".category_content"),U=document.querySelector(".exercises_nav"),B=document.querySelector(".exercises_content"),b=document.querySelector(".exercises_name"),_=document.querySelector(".exercises_search"),L=document.querySelector(".exercises_search-input"),V=document.querySelector(".exercises_search-img");let m=null,g=null;async function T(){const e=await k(a.currentPage,12);return u.innerHTML=S(e.results),e.totalPages}T().then(e=>{a.build({totalPages:e,sectionBuilderFunction:T,limit:12})}).catch(e=>console.log(e));u.addEventListener("click",Y);U.addEventListener("click",X);V.addEventListener("click",F);L.addEventListener("keydown",e=>{e.key==="Enter"&&F(e)});async function F(e){e.preventDefault();const t=async(s,r,c)=>{const{results:d,totalPages:n}=await C(a.currentPage,10,s,r,c.value);return u.innerHTML="",B.innerHTML="",u.innerHTML=q(d,s,r),c.value="",n},i=await t(m,g,L);a.build({totalPages:i,sectionBuilderFunction:async()=>await t(m,g,L),limit:12})}async function X(e){a.currentPage!==1&&(a.currentPage=1);try{let t=e.target,i=t.textContent.trim(),s=document.querySelector(".exercises__nav-item-current");const r=(n,o)=>{n.classList.remove("exercises__nav-item-current"),o.classList.add("exercises__nav-item-current")},c=async(n,o)=>{const{results:y,totalPages:h}=await k(a.currentPage,12,n);return u.innerHTML="",B.innerHTML="",u.innerHTML=S(y),h};r(s,t);const d=await c(i,s);a.build({totalPages:d,sectionBuilderFunction:async()=>await c(i,s),limit:12}),b.style="display: none;",_.style="display: none;"}catch(t){f(t.message)}}async function Y(e){try{e.preventDefault(),a.currentPage!==1&&(a.currentPage=1);const t=e.target.dataset[x.DATA_INFO].split(x.DATA_INFO_DELIMETER);m=t[0].toLowerCase(),g=t[1];const i=async(n,o)=>{const{results:y,totalPages:h}=await s(n,o);return await r({results:y}),c(),h},s=async(n,o)=>await C(a.currentPage,12,n,o),r=async({results:n})=>{u.innerHTML="",B.innerHTML=q(n,m,g)},c=()=>{b.style="display: block;",b.textContent=O(t[1]),_.style="display: block",L.value=""},d=await i(m,g);a.build({totalPages:d,sectionBuilderFunction:async()=>await i(m,g),limit:12})}catch(t){f(t.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){Z()};function Z(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};const p=document.querySelector(".modal-overlay");let l;document.querySelector(".exercises_content").addEventListener("click",ee);async function ee(e){const t=e.target.closest(".exercises_item");if(!t)return;const{id:i}=t;p.classList.remove("display-none-js");try{await N(i),l={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},p.addEventListener("click",v),l.closeBtn.addEventListener("click",v),l.favoriteBtn.addEventListener("click",M),document.addEventListener("keydown",te)}catch(s){p.classList.add("display-none-js"),f(s.message)}}function v(){p.classList.add("display-none-js"),l.closeBtn.removeEventListener("click",v),p.removeEventListener("click",v),l.favoriteBtn.removeEventListener("click",M),$()}function M(e){e.stopPropagation();const t=e.target.closest(".modal-exercise").dataset.exerciseId;R(t)?(W(t),l.favoriteBtn.innerHTML=w.add):(z(t),l.favoriteBtn.innerHTML=w.remove),l.favoriteBtn.blur()}function te(e){e.key==="Escape"&&v()}
//# sourceMappingURL=commonHelpers2.js.map
