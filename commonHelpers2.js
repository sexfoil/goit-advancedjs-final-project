import{a as T,b as S,c as E}from"./assets/mobile-852ce0aa.js";import{a as C,i as y}from"./assets/vendor-b20efecd.js";const l={BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription",RATING:"/rating"};function b(t=1,e=12,n="Muscles"){const s={filter:n,page:t,limit:e},o=p(l.FILTERS,x(s));return v(o)}function I(t=1,e=10,n,s,o){const r={page:t,limit:e};r[n]=s,o&&(r.keyword=o);const c=p(l.EXERCISES,x(r));return v(c)}async function R(t){const e=p(l.SUBSCRIPTION);return U(e,{email:t})}async function v(t){return C.get(t).then(e=>e.data).catch(e=>e.response)}async function U(t,e){return C.post(t,e).then(n=>n).catch(n=>n.response)}function x(t){return new URLSearchParams(t)}function p(t,e){return l.BASE_URL+t+(e?`?${e}`:"")}function i(t,e=""){y.error({title:e,message:t})}function H(t,e=""){y.warning({title:e,message:t})}function k(t,e=""){y.info({title:e,message:t})}const M=t=>!/[^ \t\r\n\v\f]/.test(t);class A{constructor(e,n,s="display-none-js"){this.elementInstance=e,this.visibleClass=n,this.hiddenClass=s}show(){this.elementInstance.classList.replace(this.hiddenClass,this.visibleClass)}hide(){this.elementInstance.classList.replace(this.visibleClass,this.hiddenClass)}get element(){return this.elementInstance}}const g=document.querySelector(".footer-subscribe-form"),L=new A(g.querySelector(".input-loader"),"input-loader");g.addEventListener("submit",F);function F(t){t.preventDefault();const e=t.currentTarget,n=new FormData(e).get("subscriber-email").trim();if(M(n)){H("Email is empty");return}P(n)}async function P(t){try{L.show();const e=await R(t);if(e.status!==201)throw new Error(e.data.message);k(e.data.message)}catch(e){i(e.message)}finally{L.hide(),g.reset()}}const a=document.querySelector(".category_content"),D=document.querySelector(".exercises_nav"),h=document.querySelector(".exercises_content"),u=document.querySelector(".exercises_name"),_=document.querySelector(".exercises_search"),w=document.querySelector(".exercises_search-input"),N=document.querySelector(".exercises_search-img");let d=null,m=null;const O=await b(1,12);a.innerHTML=T(O.results);a.addEventListener("click",W);D.addEventListener("click",G);N.addEventListener("click",q);w.addEventListener("keydown",t=>{t.key==="Enter"&&q(t)});async function q(t){t.preventDefault();const{results:e}=await I(1,10,d,m,w.value);a.innerHTML="",h.innerHTML="",a.innerHTML=S(e)}async function G(t){try{let e=t.target,n=e.textContent.trim(),s=document.querySelector(".exercises__nav-item-current");const o=async(c,f)=>{c.classList.remove("exercises__nav-item-current"),f.classList.add("exercises__nav-item-current")},r=async(c,f)=>{const{results:B}=await b(1,12,c);a.innerHTML="",h.innerHTML="",a.innerHTML=T(B)};o(s,e),r(n,s),u.style="display: none;",_.style="display: none;"}catch(e){i(e.message)}}async function W(t){try{t.preventDefault();const e=t.target.dataset[E.DATA_INFO].split(E.DATA_INFO_DELIMETER);d=encodeURIComponent(e[0]).toLocaleLowerCase(),m=encodeURIComponent(e[1]).toLocaleLowerCase();const n=async(r,c)=>await I(1,12,r,c),s=async({results:r})=>{a.innerHTML="",h.innerHTML=S(r)},o=()=>{u.style="display: block;",u.textContent=e[1].charAt(0).toUpperCase()+e[1].slice(1),_.style="display: block"};n(d,m).then(s).catch(i),o()}catch(e){i(e.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){X()};function X(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};
//# sourceMappingURL=commonHelpers2.js.map
