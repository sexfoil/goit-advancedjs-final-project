import{g as L,a as S,d as E}from"./assets/mobile-0fda55d4.js";import"./assets/vendor-b20efecd.js";const f="FavoriteExercises";function h(t){let e=m();const o=t._id;if(!e.some(i=>i._id===o)){const i=n;e.push(i),localStorage.setItem(f,JSON.stringify(e))}}function q(t){let e=m();e=e.filter(o=>o._id!==t),localStorage.setItem(f,JSON.stringify(e)),T()}function m(){return JSON.parse(localStorage.getItem(f))||[]}function x(t){return m().some(e=>e._id===t)}function T(){const t=m();console.log(t)}const n={_id:"64f389465ae26083f39b17c2",bodyPart:"back",equipment:"barbell",gifUrl:"https://ftp.goit.study/img/power-pulse/gifs/0037.gif",name:"barbell decline wide-grip pullover",target:"lats",description:"These large back muscles are responsible for shoulder adduction and horizontal extension. Pull-ups and lat pulldowns are common exercises targeting the lats.",rating:3,burnedCalories:307,time:3,popularity:7415},l={add:`
    <span>Add to favorites</span>
    <svg class="favorite-btn-icon" width="20" height="20">
      <use href="./img/icons.svg#icon-heart"></use>
    </svg>
  `,remove:`
    <span>Remove from favorites</span>
    <svg class="favorite-btn-icon" width="20" height="20">
      <use href="./img/icons.svg#icon-remove"></use>
    </svg>
  `};let r;async function M(t){const e={bodyPart:"Body part",burnedCalories:"Burned calories",equipment:"Equipment",popularity:"Popularity",target:"Target",time:"Time"};r={modal:document.querySelector(".modal-exercise"),loader:document.querySelector(".modal-exercise .loader"),modalContent:document.querySelector(".modal-exercise .modal-content"),imageWrapper:document.querySelector(".modal-exercise .image-wrapper"),title:document.querySelector(".modal-exercise .title"),rating:document.querySelector(".modal-exercise .rating"),ratingStars:document.querySelectorAll(".modal-exercise .star-icon"),dataWrapper:document.querySelector(".modal-exercise .data-wrapper"),description:document.querySelector(".modal-exercise .description"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},r.modal.removeAttribute("data-exercise-id"),r.imageWrapper.innerHTML="",r.dataWrapper.innerHTML="",r.modal.setAttribute("data-exercise-id",t);try{const o=await L(t);if(o.statusText==="Bad Request")throw new Error(o.statusText||"Something went wrong");const{description:i,name:p,rating:u,gifUrl:g}=o;g&&(r.imageWrapper.innerHTML=`<img class="image" src="${g}" alt="${p}" />`),r.title.innerHTML=p,r.rating.innerHTML=`${Number(u).toFixed(1)}`,r.description.innerHTML=i,r.favoriteBtn.innerHTML=x(t)?l.remove:l.add;for(let s of Object.keys(e))o[s]&&r.dataWrapper.insertAdjacentHTML("beforeend",`
          <div class="data-cell">
            <div class="data-name">${e[s]}</div>
            <div class="data-value">${o[s]}</div>
          </div>
        `);let v=0;for(let s of r.ratingStars)if(u-v>1)s.style.fill="#eea10c",v++;else{const y=(u-v)*100;s.insertAdjacentHTML("afterbegin",`
          <linearGradient id="linear-gradient">
            <stop offset="${y}%" stop-color="#eea10c"/>
            <stop offset="${y}%" stop-color="rgba(244, 244, 244, 0.2)"/>
          </linearGradient>
        `),s.style.fill="url(#linear-gradient)";break}r.modalContent.classList.remove("display-none-js"),r.loader.classList.add("display-none-js")}catch(o){throw o}}function w(){r.modalContent.classList.add("display-none-js"),r.loader.classList.remove("display-none-js")}const B=document.querySelector(".exercises_content"),c=document.querySelector(".modal-overlay");let a;const k=[n,n,n,n,n];B.innerHTML=S(k,"Equipment","barbell");document.querySelector(".exercises_content").addEventListener("click",H);async function H(t){const e=t.target.closest(".exercises_item");if(!e)return;const{id:o}=e;c.classList.remove("display-none-js");try{await M(o),a={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},c.addEventListener("click",d),a.closeBtn.addEventListener("click",d),a.favoriteBtn.addEventListener("click",b)}catch(i){c.classList.add("display-none-js"),E(i.message)}}function d(){c.classList.add("display-none-js"),a.closeBtn.removeEventListener("click",d),c.removeEventListener("click",d),a.favoriteBtn.removeEventListener("click",b),w()}function b(t){t.stopPropagation();const e=t.target.closest(".modal-exercise").dataset.exerciseId;x(e)?(q(e),a.favoriteBtn.innerHTML=l.add):(h(e),a.favoriteBtn.innerHTML=l.remove),a.favoriteBtn.blur()}document.querySelector(".nav-item_home").classList.remove("active");document.querySelector(".nav-item_favorites").classList.add("active");
//# sourceMappingURL=commonHelpers.js.map
