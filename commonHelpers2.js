import{H as I,i as A,d as D,s as j,a as O,b as v,g as k,c as q,e as x,f as S,h as C,j as $,k as N,l as R,m as Q,r as W,n as T,o as z,p as M}from"./assets/mobile-3d9e3bc7.js";import"./assets/vendor-b20efecd.js";const B=document.querySelector(".footer-subscribe-form"),w=new I(B.querySelector(".input-loader"),"input-loader");B.addEventListener("submit",K);function K(e){e.preventDefault();const t=e.currentTarget,n=new FormData(t).get("subscriber-email").trim();if(A(n)){D("Email is empty");return}G(n)}async function G(e){try{w.show();const t=await j(e);if(t.status!==201)throw new Error(t.data.message);O(t.data.message)}catch(t){v(t.message)}finally{w.hide(),B.reset()}}const J=class{page=1;totalPages=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(e,t){this.name=e,this.container=t}get currentPage(){return this.page}set currentPage(e){this.page=e}resetPage(){this.page=1}build({totalPages:e,sectionBuilderFunction:t,limit:n=12}){this.page=1,this.totalPages=e,this.limit=n,this.sectionBuilderFunction=t;const s=document.querySelector(".pagination-list");s&&(s.innerHTML="");const o=document.createElement("ul");o.classList.add("pagination-list"),this.container.append(o),o.addEventListener("click",r.bind(this));async function r(c){if(c.target.hasAttribute("data-pagination")){const i=this.page;this.page=Number(c.target.getAttribute("data-pagination"));const l=this.page;i!==l&&(await this.sectionBuilderFunction(),this.render())}}this.render()}createButton(e){const t=["pagination-btn"];return e===this.page&&t.push("pagination-btn--active"),`<li>
            <button type='button'
            name="page"
            class='${t.join(" ")}'
            data-pagination=${e}>${e}</button>
            </li>`}makeButtonsList(e){if(this.buttonsList=[],this.buttonsList.push(this.createButton(1)),this.totalPages!==1){this.page>4&&this.buttonsList.push("...");for(let t=this.page-2;t<=this.page+2;t++)t>1&&t<e&&this.buttonsList.push(this.createButton(t));this.page<e-3&&this.buttonsList.push("..."),this.buttonsList.push(this.createButton(e))}}render(){this.makeButtonsList(this.totalPages);const e=document.querySelector(".pagination-list");e.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},U=document.getElementById("exercises-pagination-container"),a=new J("exercises-pagination-container",U),d=document.querySelector(".category_content"),V=document.querySelector(".exercises_nav"),p=document.querySelector(".exercises_content"),E=document.querySelector(".exercises_name"),_=document.querySelector(".exercises_search"),L=document.querySelector(".exercises_search-input"),X=document.querySelector(".exercises_search-img");d.innerHTML="";p.innerHTML="";let g=null,m=null;async function P(){const e=await k(a.currentPage,12);return d.innerHTML=q(e.results),e.totalPages}P().then(e=>{a.build({totalPages:e,sectionBuilderFunction:P,limit:12})}).catch(e=>console.log(e));d.addEventListener("click",Z);V.addEventListener("click",Y);X.addEventListener("click",H);L.addEventListener("keydown",e=>{e.key==="Enter"&&H(e)});async function H(e){e.preventDefault();const t=async(s,o,r)=>{const{results:c,totalPages:i}=await S(a.currentPage,10,s,o,r.value);return d.innerHTML="",p.innerHTML="",p.innerHTML=C(c,s,o),r.value="",i},n=await t(g,m,L);a.build({totalPages:n,sectionBuilderFunction:async()=>await t(g,m,L),limit:12})}async function Y(e){a.currentPage!==1&&(a.currentPage=1);try{let t=e.target,n=t.textContent.trim(),s=document.querySelector(".exercises__nav-item-current");const o=(i,l)=>{i.classList.remove("exercises__nav-item-current"),l.classList.add("exercises__nav-item-current")},r=async(i,l)=>{const{results:f,totalPages:b}=await k(a.currentPage,12,i);return d.innerHTML="",p.innerHTML="",d.innerHTML=q(f),b};o(s,t);const c=await r(n,s);a.build({totalPages:c,sectionBuilderFunction:async()=>await r(n,s),limit:12}),E.style="display: none;",_.style="display: none;"}catch(t){v(t.message)}}async function Z(e){try{e.preventDefault(),a.currentPage!==1&&(a.currentPage=1);const t=e.target.dataset[x.DATA_INFO].split(x.DATA_INFO_DELIMETER);g=t[0].toLowerCase(),m=t[1];const n=async(i,l)=>{const{results:f,totalPages:b}=await s(i,l);return await o({results:f}),r(),b},s=async(i,l)=>await S(a.currentPage,12,i,l),o=async({results:i})=>{d.innerHTML="",p.innerHTML=C(i,g,m)},r=()=>{E.style="display: block;",E.textContent=$(t[1]),_.style="display: block",L.value=""},c=await n(g,m);a.build({totalPages:c,sectionBuilderFunction:async()=>await n(g,m),limit:12})}catch(t){v(t.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){ee()};function ee(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};const y=document.querySelector(".modal-overlay");let u;document.querySelector(".exercises_content").addEventListener("click",te);async function te(e){const t=e.target.closest(".exercises_item");if(!t)return;const{id:n}=t;y.classList.remove("display-none-js");try{await N(n),u={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},y.addEventListener("click",h),u.closeBtn.addEventListener("click",h),u.favoriteBtn.addEventListener("click",F),document.addEventListener("keydown",ne)}catch(s){y.classList.add("display-none-js"),v(s.message)}}function h(){y.classList.add("display-none-js"),u.closeBtn.removeEventListener("click",h),y.removeEventListener("click",h),u.favoriteBtn.removeEventListener("click",F),R()}function F(e){e.stopPropagation();const t=e.target.closest(".modal-exercise").dataset.exerciseId;Q(t)?(W(t),u.favoriteBtn.innerHTML=T.add):(z(t),u.favoriteBtn.innerHTML=T.remove),u.favoriteBtn.blur()}function ne(e){e.key==="Escape"&&h()}const se=document.querySelector(".js-quote");ie();async function ie(){try{const e=await M();ae(e)}catch(e){console.log(e)}}function ae({author:e,quote:t}){se.innerHTML=`
  <p class="quote_text">${t}</p>
  <h4 class="quote_author">${e}</h4>
    `}M();
//# sourceMappingURL=commonHelpers2.js.map
