{"version":3,"file":"commonHelpers2.js","sources":["../src/js/property/url.js","../src/js/api.js","../src/js/utils/helpers.js","../src/js/footer.js","../src/js/index.js"],"sourcesContent":["const path = {\n    BASE_URL: 'https://your-energy.b.goit.study/api',\n    EXERCISES: '/exercises',\n    FILTERS: '/filters',\n    QUOTE: '/quote',\n    SUBSCRIPTION: '/subscription',\n    RATING: '/rating',\n}\n\nexport default path;","import axios from 'axios';\nimport url from './property/url.js';\n\nfunction getExercisesByCategory(page = 1, limit = 12, filter = 'Muscles') {\n  const params = { filter, page, limit };\n  const fullUrl = getUrl(url.FILTERS, getParameters(params));\n  console.log(fullUrl);\n\n  return requestGET(fullUrl);\n}\n\nfunction getExercisesByKeyword(\n  page = 1,\n  limit = 10,\n  category,\n  categoryName,\n  keyword\n) {\n  const params = {\n    page,\n    limit,\n  };\n  params[category] = categoryName;\n  if (keyword) {\n    params['keyword'] = keyword;\n  }\n  const fullUrl = getUrl(url.EXERCISES, getParameters(params));\n  console.log(fullUrl);\n\n  return requestGET(fullUrl);\n}\n\nfunction getQuote() {\n  return requestGET(getUrl(url.QUOTE));\n}\n\nfunction getExerciseById(id) {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}`;\n\n  return requestGET(fullUrl);\n}\n\nasync function subscribe(email) {\n  const fullUrl = getUrl(url.SUBSCRIPTION);\n  const requestBody = { email };\n\n  return requestPOST(fullUrl, requestBody);\n}\n\nfunction rateExercise(id, rate = 0, email = '', review = '') {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}${url.RATING}`;\n  const requestBody = { rate, email, review };\n  return requestPATCH(fullUrl, requestBody);\n}\n\nasync function requestGET(url) {\n  return axios\n    .get(url)\n    .then(result => result.data)\n    .catch(err => err.response);\n}\n\nasync function requestPOST(url, body) {\n  return axios\n    .post(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\nasync function requestPATCH(url, body) {\n  return axios\n    .patch(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\nfunction getParameters(parameters) {\n  const params = new URLSearchParams(parameters);\n  return params;\n}\n\nfunction getUrl(endpoint, params) {\n  return url.BASE_URL + endpoint + (params ? `?${params}` : '');\n}\n\nexport {\n  getExercisesByCategory,\n  getExercisesByKeyword,\n  getQuote,\n  getExerciseById,\n  subscribe,\n  rateExercise,\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction displaySuccess(message, title = '') {\n  iziToast.success({\n    title,\n    message,\n  });\n}\n\nfunction displayError(message, title = '') {\n  iziToast.error({\n    title,\n    message,\n  });\n}\n\nfunction displayWarning(message, title = '') {\n  iziToast.warning({\n    title,\n    message,\n  });\n}\n\nfunction displayInfo(message, title = '') {\n  iziToast.info({\n    title,\n    message,\n  });\n}\n\nconst isWhitespacesOrEmpty = input => {\n  const regexPattern = /[^ \\t\\r\\n\\v\\f]/;\n  return !regexPattern.test(input);\n};\n\nclass HideableElement {\n  constructor(element, visibleClass, hiddenClass = 'display-none-js') {\n    this.elementInstance = element;\n    this.visibleClass = visibleClass;\n    this.hiddenClass = hiddenClass;\n  }\n\n  show() {\n    this.elementInstance.classList.replace(this.hiddenClass, this.visibleClass);\n  }\n\n  hide() {\n    this.elementInstance.classList.replace(this.visibleClass, this.hiddenClass);\n  }\n\n  get element() {\n    return this.elementInstance;\n  }\n}\n\nexport {\n  isWhitespacesOrEmpty,\n  displaySuccess,\n  displayError,\n  displayWarning,\n  displayInfo,\n  HideableElement,\n};\n","import { AxiosError } from 'axios';\nimport { subscribe } from './api.js';\nimport {\n  isWhitespacesOrEmpty,\n  displayWarning,\n  displayInfo,\n  HideableElement,\n  displayError,\n} from './utils/helpers.js';\n\nconst subscriptionForm = document.querySelector('.footer-subscribe-form');\nconst loader = new HideableElement(\n  subscriptionForm.querySelector('.input-loader'),\n  'input-loader'\n);\n\nsubscriptionForm.addEventListener('submit', onSubscriptionFormSubmit);\n\nfunction onSubscriptionFormSubmit(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const email = new FormData(form).get('subscriber-email').trim();\n\n  if (isWhitespacesOrEmpty(email)) {\n    displayWarning('Email is empty');\n    return;\n  }\n\n  sendSubscriptionRequest(email);\n}\n\nasync function sendSubscriptionRequest(email) {\n  try {\n    loader.show();\n    const response = await subscribe(email);\n    if (response.status !== 201) {\n      throw new Error(response.data.message);\n    }\n    displayInfo(response.data.message);\n  } catch (err) {\n    displayError(err.message);\n  } finally {\n    loader.hide();\n    subscriptionForm.reset();\n  }\n}\n","import { getExerciseCardHtml, getCategoryCardHtml } from './utils/html-render';\nimport * as api from './api.js';\nimport { attribute } from './property/constants';\n\nconst categoryList = document.querySelector('.category_content');\n\nconst categories = await api.getExercisesByCategory(1, 12);\ncategoryList.innerHTML = getCategoryCardHtml(categories.results);\n\ncategoryList.addEventListener('click', onCategoryListClick);\n\nfunction onCategoryListClick(event) {\n  event.preventDefault();\n\n  const data = event.target.dataset[attribute.DATA_INFO].split(\n    attribute.DATA_INFO_DELIMETER\n  );\n  // .dataset['source'];\n  console.dir(data);\n}\n// const resp = await api.getExercisesByKeyword(1, 10, 'bodypart', 'back', 'back');\n// console.log(resp);\n\n// const quote = document.querySelector('.exercises_quote');\n// const q = await api.getQuote();\n// console.log(q);\n// quote.innerHTML = `\"${q.quote}\"<br><br> ${q.author}`;\n\n// const data = await api.subscribe('api34@mail.com');\n// console.log(data);\n\n// const rate = await api.rateExercise(\n//   '64f389465ae26083f39b17a2',\n//   5,\n//   'api33333@mail.com',\n//   'Cool'\n// );\n// console.log(rate);\n\ndocument.querySelector('.nav-item_home').classList.add('active');\ndocument.querySelector('.nav-item_favorites').classList.remove('active');\n"],"names":["path","getExercisesByCategory","page","limit","filter","params","fullUrl","getUrl","url","getParameters","requestGET","subscribe","email","requestPOST","axios","result","err","body","parameters","endpoint","displayError","message","title","iziToast","displayWarning","displayInfo","isWhitespacesOrEmpty","input","HideableElement","element","visibleClass","hiddenClass","subscriptionForm","loader","onSubscriptionFormSubmit","evt","form","sendSubscriptionRequest","response","categoryList","categories","api.getExercisesByCategory","getCategoryCardHtml","onCategoryListClick","event","data","attribute"],"mappings":"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"}