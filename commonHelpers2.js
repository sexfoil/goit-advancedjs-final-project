import{H as I,i as A,j as D,s as j,k as O,d as v,l as P,m as k,n as x,o as S,p as C,q as $,f as N,c as R,b as Q,r as W,e as T,h as z,t as _}from"./assets/mobile-4c9f0e2b.js";import"./assets/vendor-b20efecd.js";const E=document.querySelector(".footer-subscribe-form"),w=new I(E.querySelector(".input-loader"),"input-loader");E.addEventListener("submit",K);function K(e){e.preventDefault();const t=e.currentTarget,n=new FormData(t).get("subscriber-email").trim();if(A(n)){D("Email is empty");return}G(n)}async function G(e){try{w.show();const t=await j(e);if(t.status!==201)throw new Error(t.data.message);O(t.data.message)}catch(t){v(t.message)}finally{w.hide(),E.reset()}}const J=class{page=1;totalPages=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(e,t){this.name=e,this.container=t}get currentPage(){return this.page}set currentPage(e){this.page=e}resetPage(){this.page=1}build({totalPages:e,sectionBuilderFunction:t,limit:n=12}){this.page=1,this.totalPages=e,this.limit=n,this.sectionBuilderFunction=t;const s=document.querySelector(".pagination-list");s&&(s.innerHTML="");const a=document.createElement("ul");a.classList.add("pagination-list"),this.container.append(a),a.addEventListener("click",r.bind(this));async function r(c){if(c.target.hasAttribute("data-pagination")){const i=this.page;this.page=Number(c.target.getAttribute("data-pagination"));const l=this.page;i!==l&&(await this.sectionBuilderFunction(),this.render())}}this.render()}createButton(e){const t=["pagination-btn"];return e===this.page&&t.push("pagination-btn--active"),`<li>
            <button type='button'
            name="page"
            class='${t.join(" ")}'
            data-pagination=${e}>${e}</button>
            </li>`}makeButtonsList(e){if(this.buttonsList=[],this.buttonsList.push(this.createButton(1)),this.totalPages!==1){this.page>4&&this.buttonsList.push("...");for(let t=this.page-2;t<=this.page+2;t++)t>1&&t<e&&this.buttonsList.push(this.createButton(t));this.page<e-3&&this.buttonsList.push("..."),this.buttonsList.push(this.createButton(e))}}render(){this.makeButtonsList(this.totalPages);const e=document.querySelector(".pagination-list");e.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},U=document.getElementById("exercises-pagination-container"),o=new J("exercises-pagination-container",U),d=document.querySelector(".category_content"),V=document.querySelector(".exercises_nav"),B=document.querySelector(".exercises_content"),b=document.querySelector(".exercises_name"),M=document.querySelector(".exercises_search"),h=document.querySelector(".exercises_search-input"),X=document.querySelector(".exercises_search-img");let m=null,g=null;async function q(){const e=await P(o.currentPage,12);return d.innerHTML=k(e.results),e.totalPages}q().then(e=>{o.build({totalPages:e,sectionBuilderFunction:q,limit:12})}).catch(e=>console.log(e));d.addEventListener("click",Z);V.addEventListener("click",Y);X.addEventListener("click",F);h.addEventListener("keydown",e=>{e.key==="Enter"&&F(e)});async function F(e){e.preventDefault();const t=async(s,a,r)=>{const{results:c,totalPages:i}=await S(o.currentPage,10,s,a,r.value);return d.innerHTML="",B.innerHTML="",d.innerHTML=C(c,s,a),r.value="",i},n=await t(m,g,h);o.build({totalPages:n,sectionBuilderFunction:async()=>await t(m,g,h),limit:12})}async function Y(e){o.currentPage!==1&&(o.currentPage=1);try{let t=e.target,n=t.textContent.trim(),s=document.querySelector(".exercises__nav-item-current");const a=(i,l)=>{i.classList.remove("exercises__nav-item-current"),l.classList.add("exercises__nav-item-current")},r=async(i,l)=>{const{results:L,totalPages:f}=await P(o.currentPage,12,i);return d.innerHTML="",B.innerHTML="",d.innerHTML=k(L),f};a(s,t);const c=await r(n,s);o.build({totalPages:c,sectionBuilderFunction:async()=>await r(n,s),limit:12}),b.style="display: none;",M.style="display: none;"}catch(t){v(t.message)}}async function Z(e){try{e.preventDefault(),o.currentPage!==1&&(o.currentPage=1);const t=e.target.dataset[x.DATA_INFO].split(x.DATA_INFO_DELIMETER);m=t[0].toLowerCase(),g=t[1];const n=async(i,l)=>{const{results:L,totalPages:f}=await s(i,l);return await a({results:L}),r(),f},s=async(i,l)=>await S(o.currentPage,12,i,l),a=async({results:i})=>{d.innerHTML="",B.innerHTML=C(i,m,g)},r=()=>{b.style="display: block;",b.textContent=$(t[1]),M.style="display: block",h.value=""},c=await n(m,g);o.build({totalPages:c,sectionBuilderFunction:async()=>await n(m,g),limit:12})}catch(t){v(t.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){ee()};function ee(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};const y=document.querySelector(".modal-overlay");let u;document.querySelector(".exercises_content").addEventListener("click",te);async function te(e){const t=e.target.closest(".exercises_item");if(!t)return;const{id:n}=t;y.classList.remove("display-none-js");try{await N(n),u={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},y.addEventListener("click",p),u.closeBtn.addEventListener("click",p),u.favoriteBtn.addEventListener("click",H),document.addEventListener("keydown",ne)}catch(s){y.classList.add("display-none-js"),v(s.message)}}function p(){y.classList.add("display-none-js"),u.closeBtn.removeEventListener("click",p),y.removeEventListener("click",p),u.favoriteBtn.removeEventListener("click",H),R()}function H(e){e.stopPropagation();const t=e.target.closest(".modal-exercise").dataset.exerciseId;Q(t)?(W(t),u.favoriteBtn.innerHTML=T.add):(z(t),u.favoriteBtn.innerHTML=T.remove),u.favoriteBtn.blur()}function ne(e){e.key==="Escape"&&p()}const se=document.querySelector(".js-quote");ie();async function ie(){try{const e=await _();oe(e)}catch(e){console.log(e)}}function oe({author:e,quote:t}){se.innerHTML=`
  <p class="quote_text">${t}</p>
  <h4 class="quote_author">${e}</h4>
    `}_();
//# sourceMappingURL=commonHelpers2.js.map
