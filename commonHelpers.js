import{g as b,a as L,d as S}from"./assets/mobile-8cc54db4.js";import"./assets/vendor-b20efecd.js";const v="FavoriteExercises";function E(t){let e=d();const o=t._id;if(!e.some(i=>i._id===o)){const i=T;e.push(i),localStorage.setItem(v,JSON.stringify(e))}}function h(t){let e=d();e=e.filter(o=>o._id!==t),localStorage.setItem(v,JSON.stringify(e)),q()}function d(){return JSON.parse(localStorage.getItem(v))||[]}function y(t){return d().some(e=>e._id===t)}function q(){const t=d();console.log(t)}const T={_id:"64f389465ae26083f39b17c2",bodyPart:"back",equipment:"barbell",gifUrl:"https://ftp.goit.study/img/power-pulse/gifs/0037.gif",name:"barbell decline wide-grip pullover",target:"lats",description:"These large back muscles are responsible for shoulder adduction and horizontal extension. Pull-ups and lat pulldowns are common exercises targeting the lats.",rating:3,burnedCalories:307,time:3,popularity:7415},c={add:`
    <span>Add to favorites</span>
    <svg class="favorite-btn-icon" width="20" height="20">
      <use href="./img/icons.svg#icon-heart"></use>
    </svg>
  `,remove:`
    <span>Remove from favorites</span>
    <svg class="favorite-btn-icon" width="20" height="20">
      <use href="./img/icons.svg#icon-remove"></use>
    </svg>
  `};let r;async function M(t){const e={bodyPart:"Body part",burnedCalories:"Burned calories",equipment:"Equipment",popularity:"Popularity",target:"Target",time:"Time"};r={modal:document.querySelector(".modal-exercise"),loader:document.querySelector(".modal-exercise .loader"),modalContent:document.querySelector(".modal-exercise .modal-content"),imageWrapper:document.querySelector(".modal-exercise .image-wrapper"),title:document.querySelector(".modal-exercise .title"),rating:document.querySelector(".modal-exercise .rating"),ratingStars:document.querySelectorAll(".modal-exercise .star-icon"),dataWrapper:document.querySelector(".modal-exercise .data-wrapper"),description:document.querySelector(".modal-exercise .description"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},r.modal.removeAttribute("data-exercise-id"),r.imageWrapper.innerHTML="",r.dataWrapper.innerHTML="",r.modal.setAttribute("data-exercise-id",t);try{const o=await b(t);if(o.statusText==="Bad Request")throw new Error(o.statusText||"Something went wrong");const{description:i,name:f,rating:m,gifUrl:p}=o;p&&(r.imageWrapper.innerHTML=`<img class="image" src="${p}" alt="${f}" />`),r.title.innerHTML=f,r.rating.innerHTML=`${Number(m).toFixed(1)}`,r.description.innerHTML=i,r.favoriteBtn.innerHTML=y(t)?c.remove:c.add;for(let s of Object.keys(e))o[s]&&r.dataWrapper.insertAdjacentHTML("beforeend",`
          <div class="data-cell">
            <div class="data-name">${e[s]}</div>
            <div class="data-value">${o[s]}</div>
          </div>
        `);let u=0;for(let s of r.ratingStars)if(m-u>1)s.style.fill="#eea10c",u++;else{const g=(m-u)*100;s.insertAdjacentHTML("afterbegin",`
          <linearGradient id="linear-gradient">
            <stop offset="${g}%" stop-color="#eea10c"/>
            <stop offset="${g}%" stop-color="rgba(244, 244, 244, 0.2)"/>
          </linearGradient>
        `),s.style.fill="url(#linear-gradient)";break}r.modalContent.classList.remove("display-none-js"),r.loader.classList.add("display-none-js")}catch(o){throw o}}function w(){r.modalContent.classList.add("display-none-js"),r.loader.classList.remove("display-none-js")}const B=document.querySelector(".exercises_content"),n=document.querySelector(".modal-overlay");let a;const k=[];B.innerHTML=L(k,"Equipment","barbell");document.querySelector(".exercises_content").addEventListener("click",H);async function H(t){const e=t.target.closest(".exercises_item");if(!e)return;const{id:o}=e;n.classList.remove("display-none-js");try{await M(o),a={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},n.addEventListener("click",l),a.closeBtn.addEventListener("click",l),a.favoriteBtn.addEventListener("click",x)}catch(i){n.classList.add("display-none-js"),S(i.message)}}function l(){n.classList.add("display-none-js"),a.closeBtn.removeEventListener("click",l),n.removeEventListener("click",l),a.favoriteBtn.removeEventListener("click",x),w()}function x(t){t.stopPropagation();const e=t.target.closest(".modal-exercise").dataset.exerciseId;y(e)?(h(e),a.favoriteBtn.innerHTML=c.add):(E(e),a.favoriteBtn.innerHTML=c.remove),a.favoriteBtn.blur()}document.querySelector(".nav-item_home").classList.remove("active");document.querySelector(".nav-item_favorites").classList.add("active");
//# sourceMappingURL=commonHelpers.js.map
