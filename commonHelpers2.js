import{H as I,i as A,h as D,s as O,j,d as f,k as P,l as k,m as B,n as S,o as C,p as $,f as N,c as Q,a as R,r as W,b as T,e as z,q as _}from"./assets/mobile-26393db4.js";import"./assets/vendor-b20efecd.js";const E=document.querySelector(".footer-subscribe-form"),w=new I(E.querySelector(".input-loader"),"input-loader");E.addEventListener("submit",K);function K(e){e.preventDefault();const t=e.currentTarget,s=new FormData(t).get("subscriber-email").trim();if(A(s)){D("Email is empty");return}U(s)}async function U(e){try{w.show();const t=await O(e);if(t.status!==201)throw new Error(t.data.message);j(t.data.message)}catch(t){f(t.message)}finally{w.hide(),E.reset()}}const G=class{page=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(e,t){this.name=e,this.container=t}get currentPage(){return this.page}set currentPage(e){this.page=e}resetPage(){this.page=1}build({totalPages:e,sectionBuilderFunction:t,limit:s=12}){this.page=1,this.buttonsList=[],this.limit=s,this.sectionBuilderFunction=t;const i=document.querySelector(".pagination-list");i&&(i.innerHTML="");const c=document.createElement("ul");c.classList.add("pagination-list"),this.container.append(c),c.addEventListener("click",r.bind(this));async function r(n){if(n.target.hasAttribute("data-pagination")){const a=this.page;this.page=Number(n.target.getAttribute("data-pagination"));const y=this.page;a!==y&&(await this.sectionBuilderFunction(),this.render())}}(()=>{for(let n=1;n<=e;n+=1){const a=["pagination-btn"];n===this.page&&a.push("pagination-btn--active"),this.buttonsList.push(`<li>
          <button type='button'
          name="page"
          class='${a.join(" ")}'
          data-pagination=${n}>${n}</button>
          </li>`)}})(),this.render()}render(){const e=document.querySelector(".pagination-list");e.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},J=document.getElementById("exercises-pagination-container"),o=new G("exercises-pagination-container",J),u=document.querySelector(".category_content"),V=document.querySelector(".exercises_nav"),x=document.querySelector(".exercises_content"),b=document.querySelector(".exercises_name"),M=document.querySelector(".exercises_search"),h=document.querySelector(".exercises_search-input"),X=document.querySelector(".exercises_search-img");let g=null,m=null;async function q(){const e=await P(o.currentPage,12);return u.innerHTML=k(e.results),e.totalPages}q().then(e=>{o.build({totalPages:e,sectionBuilderFunction:q,limit:12})}).catch(e=>console.log(e));u.addEventListener("click",Z);V.addEventListener("click",Y);X.addEventListener("click",F);h.addEventListener("keydown",e=>{e.key==="Enter"&&F(e)});async function F(e){e.preventDefault();const t=async(i,c,r)=>{const{results:d,totalPages:n}=await S(o.currentPage,10,i,c,r.value);return u.innerHTML="",x.innerHTML="",u.innerHTML=C(d,i,c),r.value="",n},s=await t(g,m,h);o.build({totalPages:s,sectionBuilderFunction:async()=>await t(g,m,h),limit:12})}async function Y(e){o.currentPage!==1&&(o.currentPage=1);try{let t=e.target,s=t.textContent.trim(),i=document.querySelector(".exercises__nav-item-current");const c=(n,a)=>{n.classList.remove("exercises__nav-item-current"),a.classList.add("exercises__nav-item-current")},r=async(n,a)=>{const{results:y,totalPages:L}=await P(o.currentPage,12,n);return u.innerHTML="",x.innerHTML="",u.innerHTML=k(y),L};c(i,t);const d=await r(s,i);o.build({totalPages:d,sectionBuilderFunction:async()=>await r(s,i),limit:12}),b.style="display: none;",M.style="display: none;"}catch(t){f(t.message)}}async function Z(e){try{e.preventDefault(),o.currentPage!==1&&(o.currentPage=1);const t=e.target.dataset[B.DATA_INFO].split(B.DATA_INFO_DELIMETER);g=t[0].toLowerCase(),m=t[1];const s=async(n,a)=>{const{results:y,totalPages:L}=await i(n,a);return await c({results:y}),r(),L},i=async(n,a)=>await S(o.currentPage,12,n,a),c=async({results:n})=>{u.innerHTML="",x.innerHTML=C(n,g,m)},r=()=>{b.style="display: block;",b.textContent=$(t[1]),M.style="display: block",h.value=""},d=await s(g,m);o.build({totalPages:d,sectionBuilderFunction:async()=>await s(g,m),limit:12})}catch(t){f(t.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){ee()};function ee(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};const p=document.querySelector(".modal-overlay");let l;document.querySelector(".exercises_content").addEventListener("click",te);async function te(e){const t=e.target.closest(".exercises_item");if(!t)return;const{id:s}=t;p.classList.remove("display-none-js");try{await N(s),l={closeBtn:document.querySelector("#modal-close-button"),favoriteBtn:document.querySelector(".modal-exercise .favorite-btn")},p.addEventListener("click",v),l.closeBtn.addEventListener("click",v),l.favoriteBtn.addEventListener("click",H),document.addEventListener("keydown",ne)}catch(i){p.classList.add("display-none-js"),f(i.message)}}function v(){p.classList.add("display-none-js"),l.closeBtn.removeEventListener("click",v),p.removeEventListener("click",v),l.favoriteBtn.removeEventListener("click",H),Q()}function H(e){e.stopPropagation();const t=e.target.closest(".modal-exercise").dataset.exerciseId;R(t)?(W(t),l.favoriteBtn.innerHTML=T.add):(z(t),l.favoriteBtn.innerHTML=T.remove),l.favoriteBtn.blur()}function ne(e){e.key==="Escape"&&v()}console.log("QOUTE");const se=document.querySelector(".js-quote");ie();async function ie(){try{const e=await _();oe(e),console.log(e)}catch(e){console.log(e)}}function oe({author:e,quote:t}){se.innerHTML=`
  <p class="quote_text">${t}</p>
  <h4 class="quote_author">${e}</h4>
    `}_();
//# sourceMappingURL=commonHelpers2.js.map
