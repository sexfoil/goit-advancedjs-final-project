import{H as _,i as C,d as H,s as k,a as M,b as F,g as B,c as E,e as f,f as w,h as P,j as A,k as D,l as q}from"./assets/mobile-adfb5ebc.js";import"./assets/vendor-599422a0.js";const b=document.querySelector(".footer-subscribe-form"),v=new _(b.querySelector(".input-loader"),"input-loader");b.addEventListener("submit",I);function I(t){t.preventDefault();const e=t.currentTarget,n=new FormData(e).get("subscriber-email").trim();if(C(n)){H("Email is empty");return}$(n)}async function $(t){try{v.show();const e=await k(t);if(e.status!==201)throw new Error(e.data.message);M(e.data.message)}catch(e){F(e.message)}finally{v.hide(),b.reset()}}const O=class{page=1;totalPages=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(t,e){this.name=t,this.container=e}get currentPage(){return this.page}set currentPage(t){this.page=t}resetPage(){this.page=1}build({totalPages:t,sectionBuilderFunction:e,limit:n=12}){this.page=1,this.totalPages=t,this.limit=n,this.sectionBuilderFunction=e;const a=document.querySelector(".pagination-list");a&&(a.innerHTML="");const o=document.createElement("ul");if(!t){o.innerHTML="";return}o.classList.add("pagination-list"),this.container.append(o),o.addEventListener("click",r.bind(this));async function r(c){if(c.target.hasAttribute("data-pagination")){const s=this.page;this.page=Number(c.target.getAttribute("data-pagination"));const u=this.page;s!==u&&(await this.sectionBuilderFunction(),this.render())}}this.render()}createButton(t){const e=["pagination-btn"];return t===this.page&&e.push("pagination-btn--active"),`<li>
            <button type='button'
            name="page"
            class='${e.join(" ")}'
            data-pagination=${t}>${t}</button>
            </li>`}makeButtonsList(t){if(this.buttonsList=[],this.buttonsList.push(this.createButton(1)),this.totalPages!==1){this.page>4&&this.buttonsList.push("...");for(let e=this.page-2;e<=this.page+2;e++)e>1&&e<t&&this.buttonsList.push(this.createButton(e));this.page<t-3&&this.buttonsList.push("..."),this.buttonsList.push(this.createButton(t))}}render(){this.makeButtonsList(this.totalPages);const t=document.querySelector(".pagination-list");t.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},N=document.getElementById("exercises-pagination-container"),i=new O("exercises-pagination-container",N),l=document.querySelector(".category_content"),j=document.querySelector(".exercises_nav"),m=document.querySelector(".exercises_content"),L=document.querySelector(".exercises_name"),x=document.querySelector(".exercises_search"),y=document.querySelector(".exercises_search-input"),R=document.querySelector(".exercises_search-img");l.innerHTML="";m.innerHTML="";m.removeAttribute("data-info");let d=null,g=null;async function T(){const t=await B(i.currentPage,12);return l.innerHTML=E(t.results),t.totalPages}T().then(t=>{i.build({totalPages:t,sectionBuilderFunction:T,limit:12})}).catch(t=>console.log(t));l.addEventListener("click",W);j.addEventListener("click",Q);R.addEventListener("click",S);y.addEventListener("keydown",t=>{t.key==="Enter"&&S(t)});async function S(t){t.preventDefault();const e=async(a,o,r)=>{const{results:c,totalPages:s}=await w(i.currentPage,10,a,o,r.value);return l.innerHTML="",m.innerHTML="",m.innerHTML=P(c,a,o),r.value="",s},n=await e(d,g,y);i.build({totalPages:n,sectionBuilderFunction:async()=>await e(d,g,y),limit:12})}async function Q(t){i.currentPage!==1&&(i.currentPage=1);try{let e=t.target,n=e.textContent.trim(),a=document.querySelector(".exercises__nav-item-current");const o=(s,u)=>{s.classList.remove("exercises__nav-item-current"),u.classList.add("exercises__nav-item-current")},r=async(s,u)=>{const{results:p,totalPages:h}=await B(i.currentPage,12,s);return l.innerHTML="",m.innerHTML="",l.innerHTML=E(p),h};o(a,e);const c=await r(n,a);i.build({totalPages:c,sectionBuilderFunction:async()=>await r(n,a),limit:12}),L.style="display: none;",x.style="display: none;"}catch(e){displayError(e.message)}}async function W(t){try{t.preventDefault(),i.currentPage!==1&&(i.currentPage=1);const e=t.target.dataset[f.DATA_INFO].split(f.DATA_INFO_DELIMETER);d=e[0].toLowerCase(),g=e[1];const n=async(s,u)=>{const{results:p,totalPages:h}=await a(s,u);return await o({results:p}),r(),h},a=async(s,u)=>await w(i.currentPage,12,s,u),o=async({results:s})=>{l.innerHTML="",m.innerHTML=P(s,d,g)},r=()=>{L.style="display: block;",L.textContent=A(e[1]),x.style="display: block",y.value=""},c=await n(d,g);i.build({totalPages:c,sectionBuilderFunction:async()=>await n(d,g),limit:12})}catch(e){displayError(e.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){z()};function z(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};document.querySelector(".exercises_content").addEventListener("click",D);const K=document.querySelector(".js-quote");G();async function G(){try{const t=await q();J(t)}catch(t){console.log(t)}}function J({author:t,quote:e}){K.innerHTML=`
  <p class="quote_text">${e}</p>
  <h4 class="quote_author">${t}</h4>
    `}q();
//# sourceMappingURL=commonHelpers2.js.map
