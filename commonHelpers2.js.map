{"version":3,"file":"commonHelpers2.js","sources":["../src/js/property/url.js","../src/js/api.js","../src/js/utils/helpers.js","../src/js/footer.js","../src/js/index.js"],"sourcesContent":["const path = {\n    BASE_URL: 'https://your-energy.b.goit.study/api',\n    EXERCISES: '/exercises',\n    FILTERS: '/filters',\n    QUOTE: '/quote',\n    SUBSCRIPTION: '/subscription',\n    RATING: '/rating',\n}\n\nexport default path;","import axios from 'axios';\nimport url from './property/url.js';\n\nfunction getExercisesByCategory(page = 1, limit = 12, filter = 'Muscles') {\n  const params = { filter, page, limit };\n  const fullUrl = getUrl(url.FILTERS, getParameters(params));\n\n  return requestGET(fullUrl);\n}\n\nfunction getExercisesByKeyword(\n  page = 1,\n  limit = 10,\n  category,\n  categoryName,\n  keyword\n) {\n  const params = {\n    page,\n    limit,\n  };\n\n  params[category] = categoryName;\n  if (keyword) {\n    params['keyword'] = keyword;\n  }\n  const fullUrl = getUrl(url.EXERCISES, getParameters(params));\n\n  return requestGET(fullUrl);\n}\n\nfunction getQuote() {\n  return requestGET(getUrl(url.QUOTE));\n}\n\nfunction getExerciseById(id) {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}`;\n\n  return requestGET(fullUrl);\n}\n\nasync function subscribe(email) {\n  const fullUrl = getUrl(url.SUBSCRIPTION);\n  const requestBody = { email };\n\n  return requestPOST(fullUrl, requestBody);\n}\n\nfunction rateExercise(id, rate = 0, email = '', review = '') {\n  const fullUrl = getUrl(url.EXERCISES) + `/${id}${url.RATING}`;\n  const requestBody = { rate, email, review };\n  return requestPATCH(fullUrl, requestBody);\n}\n\nasync function requestGET(url) {\n  return axios\n    .get(url)\n    .then(result => result.data)\n    .catch(err => err.response);\n}\n\nasync function requestPOST(url, body) {\n  return axios\n    .post(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\nasync function requestPATCH(url, body) {\n  return axios\n    .patch(url, body)\n    .then(result => result)\n    .catch(err => err.response);\n}\n\nfunction getParameters(parameters) {\n  const params = new URLSearchParams(parameters);\n  return params;\n}\n\nfunction getUrl(endpoint, params) {\n  return url.BASE_URL + endpoint + (params ? `?${params}` : '');\n}\n\n// export methods\nexport {\n  getExercisesByCategory,\n  getExercisesByKeyword,\n  getQuote,\n  getExerciseById,\n  subscribe,\n  rateExercise,\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction displaySuccess(message, title = '') {\n  iziToast.success({\n    title,\n    message,\n  });\n}\n\nfunction displayError(message, title = '') {\n  iziToast.error({\n    title,\n    message,\n  });\n}\n\nfunction displayWarning(message, title = '') {\n  iziToast.warning({\n    title,\n    message,\n  });\n}\n\nfunction displayInfo(message, title = '') {\n  iziToast.info({\n    title,\n    message,\n  });\n}\n\nconst isWhitespacesOrEmpty = input => {\n  const regexPattern = /[^ \\t\\r\\n\\v\\f]/;\n  return !regexPattern.test(input);\n};\n\nclass HideableElement {\n  constructor(element, visibleClass, hiddenClass = 'display-none-js') {\n    this.elementInstance = element;\n    this.visibleClass = visibleClass;\n    this.hiddenClass = hiddenClass;\n  }\n\n  show() {\n    this.elementInstance.classList.replace(this.hiddenClass, this.visibleClass);\n  }\n\n  hide() {\n    this.elementInstance.classList.replace(this.visibleClass, this.hiddenClass);\n  }\n\n  get element() {\n    return this.elementInstance;\n  }\n}\n\nexport {\n  isWhitespacesOrEmpty,\n  displaySuccess,\n  displayError,\n  displayWarning,\n  displayInfo,\n  HideableElement,\n};\n","import { AxiosError } from 'axios';\nimport { subscribe } from './api.js';\nimport {\n  isWhitespacesOrEmpty,\n  displayWarning,\n  displayInfo,\n  HideableElement,\n  displayError,\n} from './utils/helpers.js';\n\nconst subscriptionForm = document.querySelector('.footer-subscribe-form');\nconst loader = new HideableElement(\n  subscriptionForm.querySelector('.input-loader'),\n  'input-loader'\n);\n\nsubscriptionForm.addEventListener('submit', onSubscriptionFormSubmit);\n\nfunction onSubscriptionFormSubmit(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const email = new FormData(form).get('subscriber-email').trim();\n\n  if (isWhitespacesOrEmpty(email)) {\n    displayWarning('Email is empty');\n    return;\n  }\n\n  sendSubscriptionRequest(email);\n}\n\nasync function sendSubscriptionRequest(email) {\n  try {\n    loader.show();\n    const response = await subscribe(email);\n    if (response.status !== 201) {\n      throw new Error(response.data.message);\n    }\n    displayInfo(response.data.message);\n  } catch (err) {\n    displayError(err.message);\n  } finally {\n    loader.hide();\n    subscriptionForm.reset();\n  }\n}\n","import { getExerciseCardHtml, getCategoryCardHtml } from './utils/html-render';\nimport * as api from './api.js';\nimport { attribute } from './property/constants';\nimport { displayError } from './utils/helpers.js';\n\nconst itemList = document.querySelector('.category_content');\nconst categoryList = document.querySelector('.exercises_nav');\nconst exerciseList = document.querySelector('.exercises_content');\nconst exerciseName = document.querySelector('.exercises_name');\nconst search = document.querySelector('.exercises_search');\nconst searchInput = document.querySelector('.exercises_search-input');\nconst searchButton = document.querySelector('.exercises_search-img');\n\nlet categorie = null;\nlet categorieValue = null;\n//Базовая инициализация\nconst categories = await api.getExercisesByCategory(1, 12);\nitemList.innerHTML = getCategoryCardHtml(categories.results);\n//Слушатели\nitemList.addEventListener('click', onCategoryListClick);\ncategoryList.addEventListener('click', onCategoryClick);\nsearchButton.addEventListener('click', onSearchButton);\nsearchInput.addEventListener('keydown', e => {\n  if (e.key === 'Enter') {\n    onSearchButton(e);\n  }\n});\n//Функции к слушателям\nasync function onSearchButton(event) {\n  event.preventDefault();\n\n  const { results } = await api.getExercisesByKeyword(\n    1,\n    10,\n    categorie,\n    categorieValue,\n    searchInput.value\n  );\n  itemList.innerHTML = '';\n  exerciseList.innerHTML = '';\n  itemList.innerHTML = getExerciseCardHtml(results);\n}\nasync function onCategoryClick(event) {\n  try {\n    let target = event.target;\n    let contentTarget = target.textContent.trim();\n    let curentCategory = document.querySelector('.exercises__nav-item-current');\n\n    const toogleClass = async (curentCategory, target) => {\n      curentCategory.classList.remove('exercises__nav-item-current');\n      target.classList.add('exercises__nav-item-current');\n    };\n    const rendering = async (contentTarget, curentCategory) => {\n      const { results } = await api.getExercisesByCategory(\n        1,\n        12,\n        contentTarget\n      );\n      itemList.innerHTML = '';\n      exerciseList.innerHTML = '';\n      itemList.innerHTML = getCategoryCardHtml(results);\n      return;\n    };\n\n    toogleClass(curentCategory, target);\n    rendering(contentTarget, curentCategory);\n    exerciseName.style = 'display: none;';\n    search.style = 'display: none;';\n  } catch (error) {\n    displayError(error.message);\n  }\n}\n\nasync function onCategoryListClick(event) {\n  try {\n    event.preventDefault();\n\n    const data = event.target.dataset[attribute.DATA_INFO].split(\n      attribute.DATA_INFO_DELIMETER\n    );\n    // let label = data[0].toLocaleLowerCase();\n    // let value = data[1].toLocaleLowerCase();\n\n    categorie = encodeURIComponent(data[0]).toLocaleLowerCase();\n    categorieValue = encodeURIComponent(data[1]).toLocaleLowerCase();\n\n    const fetchPromise = async (label, value) => {\n      return await api.getExercisesByKeyword(1, 12, label, value);\n    };\n\n    const handleResult = async ({ results }) => {\n      itemList.innerHTML = '';\n      exerciseList.innerHTML = getExerciseCardHtml(results);\n    };\n    const addExercisesName = () => {\n      exerciseName.style = 'display: block;';\n      exerciseName.textContent =\n        data[1].charAt(0).toUpperCase() + data[1].slice(1);\n      search.style = 'display: block';\n    };\n    fetchPromise(categorie, categorieValue)\n      .then(handleResult)\n      .catch(displayError);\n    addExercisesName();\n  } catch (error) {\n    displayError(error.message);\n  }\n}\n\n// const resp = await api.getExercisesByKeyword(1, 10, 'bodypart', 'back', 'back');\n// console.log(resp);\n\n// const quote = document.querySelector('.exercises_quote');\n// const q = await api.getQuote();\n// console.log(q);\n// quote.innerHTML = `\"${q.quote}\"<br><br> ${q.author}`;\n\n// const data = await api.subscribe('api34@mail.com');\n// console.log(data);\n\n// const rate = await api.rateExercise(\n//   '64f389465ae26083f39b17a2',\n//   5,\n//   'api33333@mail.com',\n//   'Cool'\n// );\n// console.log(rate);\n\ndocument.querySelector('.nav-item_home').classList.add('active');\ndocument.querySelector('.nav-item_favorites').classList.remove('active');\n\n// Scroll\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    document.getElementById('scrollToTopButton').style.display = 'block';\n  } else {\n    document.getElementById('scrollToTopButton').style.display = 'none';\n  }\n}\n\n// Когда пользователь нажимает на кнопку\ndocument.getElementById('scrollToTopButton').onclick = function () {\n  document.body.scrollTop = 0; // Для Safari\n  document.documentElement.scrollTop = 0; // Для Chrome, Firefox, IE и Opera\n};\n"],"names":["path","getExercisesByCategory","page","limit","filter","params","fullUrl","getUrl","url","getParameters","requestGET","getExercisesByKeyword","category","categoryName","keyword","subscribe","email","requestPOST","axios","result","err","body","parameters","endpoint","displayError","message","title","iziToast","displayWarning","displayInfo","isWhitespacesOrEmpty","input","HideableElement","element","visibleClass","hiddenClass","subscriptionForm","loader","onSubscriptionFormSubmit","evt","form","sendSubscriptionRequest","response","itemList","categoryList","exerciseList","exerciseName","search","searchInput","searchButton","categorie","categorieValue","categories","api.getExercisesByCategory","getCategoryCardHtml","onCategoryListClick","onCategoryClick","onSearchButton","e","event","results","api.getExercisesByKeyword","getExerciseCardHtml","target","contentTarget","curentCategory","toogleClass","rendering","error","data","attribute","fetchPromise","label","value","handleResult","addExercisesName","scrollFunction"],"mappings":"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"}