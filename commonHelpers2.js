import{H as _,i as q,b as k,s as H,c as F,d as b,e as w,f as E,h as v,j as T,k as S,l as M}from"./assets/mobile-3d973def.js";import"./assets/vendor-b20efecd.js";const L=document.querySelector(".footer-subscribe-form"),P=new _(L.querySelector(".input-loader"),"input-loader");L.addEventListener("submit",A);function A(t){t.preventDefault();const e=t.currentTarget,i=new FormData(e).get("subscriber-email").trim();if(q(i)){k("Email is empty");return}I(i)}async function I(t){try{P.show();const e=await H(t);if(e.status!==201)throw new Error(e.data.message);F(e.data.message)}catch(e){b(e.message)}finally{P.hide(),L.reset()}}const D=class{page=1;limit=12;buttonsList=[];event=null;sectionBuilderFunction=()=>console.log("sectionBuilderFunction ");constructor(t,e){this.name=t,this.container=e}get currentPage(){return this.page}set currentPage(t){this.page=t}resetPage(){this.page=1}build({totalPages:t,sectionBuilderFunction:e,limit:i=12}){this.page=1,this.buttonsList=[],this.limit=i,this.sectionBuilderFunction=e;const a=document.querySelector(".pagination-list");a&&(a.innerHTML="");const r=document.createElement("ul");r.classList.add("pagination-list"),this.container.append(r),r.addEventListener("click",c.bind(this));async function c(n){if(n.target.hasAttribute("data-pagination")){const o=this.page;this.page=Number(n.target.getAttribute("data-pagination"));const m=this.page;o!==m&&(await this.sectionBuilderFunction(),this.render())}}(()=>{for(let n=1;n<=t;n+=1){const o=["pagination-btn"];n===this.page&&o.push("pagination-btn--active"),this.buttonsList.push(`<li>
          <button type='button'
          name="page"
          class='${o.join(" ")}'
          data-pagination=${n}>${n}</button>
          </li>`)}})(),this.render()}render(){const t=document.querySelector(".pagination-list");t.innerHTML=this.buttonsList.join(""),document.querySelector(".pagination-btn--active")?.classList.remove("pagination-btn--active"),document.querySelector(`.pagination-btn[data-pagination='${this.page}']`).classList.add("pagination-btn--active")}},N=document.getElementById("exercises-pagination-container"),s=new D("exercises-pagination-container",N),l=document.querySelector(".category_content"),O=document.querySelector(".exercises_nav"),f=document.querySelector(".exercises_content"),h=document.querySelector(".exercises_name"),x=document.querySelector(".exercises_search"),y=document.querySelector(".exercises_search-input"),$=document.querySelector(".exercises_search-img");let d=null,g=null;async function B(){const t=await w(s.currentPage,12);return l.innerHTML=E(t.results),t.totalPages}B().then(t=>{s.build({totalPages:t,sectionBuilderFunction:B,limit:12})}).catch(t=>console.log(t));l.addEventListener("click",R);O.addEventListener("click",j);$.addEventListener("click",C);y.addEventListener("keydown",t=>{t.key==="Enter"&&C(t)});async function C(t){t.preventDefault();const e=async(a,r,c)=>{const{results:u,totalPages:n}=await T(s.currentPage,10,a,r,c.value);return l.innerHTML="",f.innerHTML="",l.innerHTML=S(u,a,r),c.value="",n},i=await e(d,g,y);s.build({totalPages:i,sectionBuilderFunction:async()=>await e(d,g,y),limit:12})}async function j(t){s.currentPage!==1&&(s.currentPage=1);try{let e=t.target,i=e.textContent.trim(),a=document.querySelector(".exercises__nav-item-current");const r=(n,o)=>{n.classList.remove("exercises__nav-item-current"),o.classList.add("exercises__nav-item-current")},c=async(n,o)=>{const{results:m,totalPages:p}=await w(s.currentPage,12,n);return l.innerHTML="",f.innerHTML="",l.innerHTML=E(m),p};r(a,e);const u=await c(i,a);s.build({totalPages:u,sectionBuilderFunction:async()=>await c(i,a),limit:12}),h.style="display: none;",x.style="display: none;"}catch(e){b(e.message)}}async function R(t){try{t.preventDefault(),s.currentPage!==1&&(s.currentPage=1);const e=t.target.dataset[v.DATA_INFO].split(v.DATA_INFO_DELIMETER);d=e[0].toLowerCase(),g=e[1];const i=async(n,o)=>{const{results:m,totalPages:p}=await a(n,o);return await r({results:m}),c(),p},a=async(n,o)=>await T(s.currentPage,12,n,o),r=async({results:n})=>{l.innerHTML="",f.innerHTML=S(n,d,g)},c=()=>{h.style="display: block;",h.textContent=M(e[1]),x.style="display: block",y.value=""},u=await i(d,g);s.build({totalPages:u,sectionBuilderFunction:async()=>await i(d,g),limit:12})}catch(e){b(e.message)}}document.querySelector(".nav-item_home").classList.add("active");document.querySelector(".nav-item_favorites").classList.remove("active");window.onscroll=function(){W()};function W(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrollToTopButton").style.display="block":document.getElementById("scrollToTopButton").style.display="none"}document.getElementById("scrollToTopButton").onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0};
//# sourceMappingURL=commonHelpers2.js.map
